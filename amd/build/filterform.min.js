define ("mod_cado/filterform",[],function(){return{init:function init(a){var c=Object.entries(JSON.parse(document.querySelector(a).value)),d=document.querySelectorAll("select[id^='id_compare']");d.forEach(function(a){a.addEventListener("change",b)});var e=document.getElementById("id_coursename");e.addEventListener("change",b);var f=document.getElementById("id_cadoid");b();function b(){while(f.firstChild){f.removeChild(f.firstChild)}f.insertAdjacentHTML("afterbegin","<option value=\"0\">---</option>");f.selectedIndex=0;var a=new Date(document.getElementById("id_comparestartdate_year").value,document.getElementById("id_comparestartdate_month").value-1,document.getElementById("id_comparestartdate_day").value),b=Math.floor(a.getTime()/1e3),d=new Date(document.getElementById("id_compareenddate_year").value,document.getElementById("id_compareenddate_month").value,document.getElementById("id_compareenddate_day").value),g=Math.floor(d.getTime()/1e3);c.forEach(function(a){if(a[1].startdate>=b&&a[1].startdate<=g&&0<=a[1].shortname.indexOf(e.value)){f.insertAdjacentHTML("afterbegin","<option value=".concat(a[0],">").concat(a[1].shortname," --- ").concat(a[1].name,"</option>"))}})}}}});
//# sourceMappingURL=filterform.min.js.map
