{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.

}}
{{!
    @template mod_cado/cadomodule

    Displays module part of CADO report

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * none

    Example context (json):
    {
        "cmodid": 96,
        "name": "a1 with rubric (80% LO:1) ",
        "link": "http://localhost/moodle_latest/moodle/mod/assign/view.php?id=96&forceview=1",
        "datesexists": true,
        "completionexists": false,
        "extraexists": true,
        "introexists": true,
        "rubricexists": true,
        "dates": {
            "0": {
                "label": "Date to be completed by: ",
                "value": "22 January 2021, 5:21 PM"
            },
            "1": {
                "label": "Due date: ",
                "value": "2 January 2021, 5:00 AM"
            },
            "2": {
                "label": "Cut-off date: ",
                "value": "22 January 2021, 5:21 PM"
            }
        },
        "extra": {
            "0": {
                "label": "Word count: ",
                "value": 1000
            },
            "1": {
                "label": "Final grade %: ",
                "value": 80
            },
            "2": {
                "label": "Hours: ",
                "value": 30
            }
        },
        "intro": "Description ",
        "rubric": {
            "0": {
                "levels": {
                    "0": {
                        "leveldesc": "ultimate",
                        "points": 5
                    },
                    "1": {
                        "leveldesc": "lovely",
                        "points": 4
                    },
                    "2": {
                        "leveldesc": "ok",
                        "points": 3
                    },
                    "3": {
                        "leveldesc": "acceptable",
                        "points": 2
                    },
                    "4": {
                        "leveldesc": "unacceptable",
                        "points": 1
                    },
                    "5": {
                        "leveldesc": "dreadful",
                        "points": 0
                    }
                },
                "critdesc": "and the rest"
            },
            "1": {
                "levels": {
                    "0": {
                        "leveldesc": "this awesome",
                        "points": 3
                    },
                    "1": {
                        "leveldesc": "this nice",
                        "points": 1
                    },
                    "2": {
                        "leveldesc": "this bad",
                        "points": 0
                    }
                },
                "critdesc": "the other"
            },
            "2": {
                "levels": {
                    "0": {
                        "leveldesc": "this great",
                        "points": 2
                    },
                    "1": {
                        "leveldesc": "this ok",
                        "points": 1
                    },
                    "2": {
                        "leveldesc": "this what?",
                        "points": 0
                    }
                },
                "critdesc": "this"
            },
            "3": {
                "levels": {
                    "0": {
                        "leveldesc": "that great",
                        "points": 2
                    },
                    "1": {
                        "leveldesc": "that ok",
                        "points": 1
                    },
                    "2": {
                        "leveldesc": "that what?",
                        "points": 0
                    }
                },
                "critdesc": "that"
            }
        },
        "module": "assign"
    }
}}
<div {{#dm}}class="{{dm}}"{{/dm}}>
  <h2 id="cadoi-{{module}}-name_{{cmodid}}" {{#dmn}}class="{{dmn}}"{{/dmn}}>{{name}} <a class="cad-link" href="{{link}}" target="_blank">&#9741;</a></h2>
  {{#datesexists}}
  <h4>{{# str }} duedates, mod_cado {{/ str }}</h4>
  <div id="cadoi-{{module}}-dates_{{cmodid}}" {{#dmsd}}class="{{dmsd}}"{{/dmsd}}>
      {{#dates}}
      <div class="row {{dml}}">
        <div class = "col-sm-3">{{label}}</div>
        <div class = "col-sm-3 {{dmil}}">{{value}}</div>
      </div>
      {{/dates}}
  </div>
  {{/datesexists}}
  {{#completionexists}}
  <h4>{{# str }} completion, mod_cado {{/ str }}</h4>
  <div id="cadoi-{{module}}-completion_{{cmodid}}" {{#dmsc}}class="{{dmsc}}"{{/dmsc}}>
      {{#completion}}
      <div class="row {{dml}}">
        <div class = "col-sm-3">{{label}}</div>
        <div class = "col-sm-3 {{dmil}}">{{value}}</div>
      </div>
      {{/completion}}
  </div>
  {{/completionexists}}
  {{#extraexists}}
  <div id="cadoi-{{module}}-extra_{{cmodid}}" {{#dmse}}class="{{dmse}}"{{/dmse}}>
    {{#extra}}           
    <div class="row {{dml}}">
      <div class = "col-sm-3 cad-tag-head"><h4>{{label}}</h4></div>
      <div class = "col-sm-3 {{dmil}}"><h4>{{value}}</h4></div>
    </div>
    {{/extra}}   
  </div>
  {{/extraexists}}
  {{#introexists}}
  <div id="cadoi-{{module}}-intro_{{cmodid}}" class="cado-inserthtml {{dmi}}">
    {{{intro}}}
  </div>
  {{/introexists}}
  {{#rubricexists}}
  <h4>{{# str }} rubric, mod_cado {{/ str }} </h4>
  <div id="cadoi-{{module}}-rubric_{{cmodid}}" {{#dmr}}class="{{dmr}}"{{/dmr}}>
    <table class="table table-hover">
      <tbody>
        {{#rubric}}
          <tr {{#dmrc}}class="{{dmrc}}"{{/dmrc}}>
            <td class="cado-rubric-row-head">{{critdesc}}</td>
            {{#levels}}<td {{#dmrl}}class="{{dmrl}}"{{/dmrl}}>{{leveldesc}}<br>({{points}})</td>{{/levels}}
          </tr>
        {{/rubric}}
      </tbody>
    </table><br>
  </div>
  {{/rubricexists}}
</div>
