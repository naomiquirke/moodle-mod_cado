{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.

}}
{{!
    @template mod_cado/mobile_cadoschedule

    Part of main CADO report, optimised for mobile.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * none

    Example context (json):
    {
    "schedheads": {
        "section": "Section",
        "startdate": null,
        "name": "Topic",
        "task": "Task",
        "date": "Date due"
    },
    "weekly": false,
    "tagsinsched": 3,
    "headtag0": "Word count",
    "headtag1": "Final grade %",
    "headtag2": "Hours",
    "schedule": {
      "0": {
          "tasks": {},
          "section": 0,
          "startdate": null,
          "sum": 0,
          "name": "General sections "
      },
      "1": {
          "tasks": {
              "0": {
                  "name": "Awesome quiz 1  (LO:3 5%)",
                  "date": "22/07/20, 14:33",
                  "tag0": "",
                  "tag1": "",
                  "tag2": 10
              }
          },
          "section": 1,
          "startdate": null,
          "sum": 0,
          "name": "Topic 1 "
      },
      "2": {
          "tasks": {
              "0": {
                  "name": "Important forum (LO:3 0%)",
                  "date": "22/12/20, 13:51",
                  "tag0": "",
                  "tag1": "",
                  "tag2": ""
              },
              "1": {
                  "name": "a1 with rubric (80% LO:1)",
                  "date": "2/01/21, 05:00",
                  "tag0": 1000,
                  "tag1": 80,
                  "tag2": 30
              }
          },
          "section": 2,
          "startdate": null,
          "sum": 0,
          "name": " "
      },
      "3": {
          "tasks": {
              "0": {
                  "name": "Less important but still important forum",
                  "date": "22/10/20, 13:51",
                  "tag0": "",
                  "tag1": "",
                  "tag2": ""
              },
              "1": {
                  "name": "a2 no rubric (5% LO:2) ",
                  "date": "2/01/21, 05:00",
                  "tag0": "",
                  "tag1": "",
                  "tag2": 30
              }
          },
          "section": 3,
          "startdate": null,
          "sum": 0,
          "name": " "
      },
      "4": {
          "tasks": {
              "0": {
                  "name": "",
                  "date": "",
                  "tag0": 1000,
                  "tag1": 80,
                  "tag2": 70
              }
          },
          "section": "",
          "startdate": null,
          "sum": 1,
          "name": "TOTALS "
        }
    }
}}
{{=<% %>=}}

<div id="cado-schedule">
  <ion-card>
    <ion-card-header>
      <ion-card-title><%# str %> schedule, mod_cado <%/ str %></ion-card-title>
    </ion-card-header>
    <ion-card-content> 
      <ion-grid id="cado-sched-outer">
        <%#schedheads%>
          <ion-row class="cado-topic-first cado-sched-heads">
            <ion-col col-lg-2 col-md-3 col-3>
              <%section%>
            </ion-col>
            <%#weekly%><ion-col col-lg-2 col-md-3 col-3>
              <%startdate%>
            </ion-col><%/weekly%>
            <ion-col>
              <%name%>
            </ion-col>
          </ion-row>
          <ion-row class="cado-topic-second  cado-sched-heads">
            <ion-col>
              <%task%>
            </ion-col>
            <ion-col>
              <%date%>
            </ion-col>
            <%#headtag0%>
              <ion-col><%headtag0%></ion-col>
            <%/headtag0%>
            <%#headtag1%>
              <ion-col><%headtag1%></ion-col>
            <%/headtag1%>
            <%#headtag2%>
              <ion-col><%headtag2%></ion-col>
            <%/headtag2%>
          </ion-row>
        <%/schedheads%>
        <%#schedule%>
          <ion-row class="cado-topic-first cado-sched-body">
            <ion-col col-lg-2 col-md-3 col-3>
              <%^sum%><%section%><%/sum%>
            </ion-col>
            <%#weekly%><ion-col col-lg-2 col-md-3 col-3>
              <%startdate%>
            </ion-col><%/weekly%>
            <ion-col>
              <%^sum%><%name%><%/sum%>
            </ion-col>
          </ion-row>
          <%#tasks%><%#.%><ion-row class="cado-topic-second cado-sched-body">
            <ion-col <%#sum%>class="cado-sched-total"<%/sum%>>
              <%name%>
            </ion-col>
            <ion-col>
              <%date%>
            </ion-col>
            <%#headtag0%>
              <ion-col <%#sum%>class="cado-sched-total"<%/sum%>>
                <%tag0%>
              </ion-col>
            <%/headtag0%>
            <%#headtag1%>
              <ion-col <%#sum%>class="cado-sched-total"<%/sum%>>
                <%tag1%>
              </ion-col>
            <%/headtag1%>
            <%#headtag2%>
              <ion-col <%#sum%>class="cado-sched-total"<%/sum%>>
                <%tag2%>
              </ion-col>
            <%/headtag2%>
          </ion-row><%/.%><%/tasks%>
        <%/schedule%>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</div>