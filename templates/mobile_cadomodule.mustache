{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.

}}
{{!
    @template mod_cado/mobile_cadomodule

    Displays module part of mobile CADO report

    Classes required for JS:
    * none

    Data attributes required for JS:
    * All

    Context variables required for this template:
    * module string: module type
    * cmodid int: module id number
    * link string: link to resource
    * name string: module name

    Example context (json):
      {
        "cmodid": 96,
        "name": "a1 with rubric (80% LO:1) ",
        "link": "http://localhost/moodle_latest/moodle/mod/assign/view.php?id=96&forceview=1",
        "datesexists": true,
        "completionexists": false,
        "extraexists": true,
        "introexists": true,
        "rubricexists": true,
        "dates": {
            "0": {
                "label": "Date to be completed by: ",
                "value": "22 January 2021, 5:21 PM"
            },
            "1": {
                "label": "Due date: ",
                "value": "2 January 2021, 5:00 AM"
            },
            "2": {
                "label": "Cut-off date: ",
                "value": "22 January 2021, 5:21 PM"
            }
        },
        "extra": {
            "0": {
                "label": "Word count: ",
                "value": 1000
            },
            "1": {
                "label": "Final grade %: ",
                "value": 80
            },
            "2": {
                "label": "Hours: ",
                "value": 30
            }
        },
        "intro": "Description ",
        "rubric": {
            "0": {
                "levels": {
                    "0": {
                        "leveldesc": "ultimate",
                        "points": 5
                    },
                    "1": {
                        "leveldesc": "lovely",
                        "points": 4
                    },
                    "2": {
                        "leveldesc": "ok",
                        "points": 3
                    },
                    "3": {
                        "leveldesc": "acceptable",
                        "points": 2
                    },
                    "4": {
                        "leveldesc": "unacceptable",
                        "points": 1
                    },
                    "5": {
                        "leveldesc": "dreadful",
                        "points": 0
                    }
                },
                "critdesc": "and the rest"
            },
            "1": {
                "levels": {
                    "0": {
                        "leveldesc": "this awesome",
                        "points": 3
                    },
                    "1": {
                        "leveldesc": "this nice",
                        "points": 1
                    },
                    "2": {
                        "leveldesc": "this bad",
                        "points": 0
                    }
                },
                "critdesc": "the other"
            },
            "2": {
                "levels": {
                    "0": {
                        "leveldesc": "this great",
                        "points": 2
                    },
                    "1": {
                        "leveldesc": "this ok",
                        "points": 1
                    },
                    "2": {
                        "leveldesc": "this what?",
                        "points": 0
                    }
                },
                "critdesc": "this"
            },
            "3": {
                "levels": {
                    "0": {
                        "leveldesc": "that great",
                        "points": 2
                    },
                    "1": {
                        "leveldesc": "that ok",
                        "points": 1
                    },
                    "2": {
                        "leveldesc": "that what?",
                        "points": 0
                    }
                },
                "critdesc": "that"
            }
        },
        "module": "assign"
      }
}}
{{=<% %>=}}
<div>
  <%#cmodid%>
  <ion-card>
    <ion-card-header>
        <ion-card-title text-wrap id="cadoi-<%module%>-name_<%cmodid%>">
            <%name%> <a class="cad-link" href="<% link %>" core-link capture="true">&#9741;</a>
        </ion-card-title>
    </ion-card-header>
    <ion-card-content class="cado-cardcontent">
        <%#datesexists%>
            <p class="cado-moddetail-heads"><%# str %> duedates, mod_cado <%/ str %></p>
            <ion-grid id="cadoi-<%module%>-dates_<%cmodid%>">
                <%#dates%>
                    <ion-row>
                        <ion-col col-lg-2 col-md-4 col-7><%label%></ion-col>
                        <ion-col col-lg-2 col-md-4 col-4><%value%></ion-col>
                    </ion-row>
                <%/dates%>
            </ion-grid>
        <%/datesexists%>
        <%#completionexists%>
            <p class="cado-moddetail-heads"><%# str %> completion, mod_cado <%/ str %></p>
            <ion-grid id="cadoi-<%module%>-completion_<%cmodid%>">
                <%#completion%>
                <ion-row>
                    <ion-col col-lg-2 col-md-4 col-7><%label%></ion-col>
                    <ion-col col-lg-2 col-md-4 col-4><%value%></ion-col>
                </ion-row>
                <%/completion%>
            </ion-grid>
        <%/completionexists%>
        <%#extraexists%>
            <ion-grid id="cadoi-<%module%>-extra_<%cmodid%>">
                <%#extra%>           
                    <ion-row>
                        <ion-col col-lg-2 col-md-4 col-7>
                            <p class="cado-moddetail-heads cado-tag-label"><%label%></p>
                        </ion-col>
                        <ion-col col-lg-2 col-md-4 col-4>
                            <p class="cado-moddetail-heads"><%value%></p>
                        </ion-col>
                    </ion-row>
                <%/extra%>   
            </ion-grid>
        <%/extraexists%>
        <%#introexists%>
            <div id="cadoi-<% module %>-intro_<% cmodid %>" class="cado-inserthtml">
                <core-format-text text="<% intro %>" component="mod_<% module %>" componentId="<% cmodid %>"></core-format-text>
            </div>
        <%/introexists%>
        <%#rubricexists%>
            <p class="cado-moddetail-heads"><%# str %> rubric, mod_cado <%/ str %> </p>
            <ion-grid id="cadoi-<%module%>-rubric_<%cmodid%>">
                <%#rubric%>
                    <ion-row>
                        <ion-col class="cado-rubric-row-head"><%critdesc%></ion-col>
                        <%#levels%><ion-col><%leveldesc%><br>(<%points%>)</ion-col><%/levels%>
                    </ion-row>
                <%/rubric%>
            </ion-grid>
        <%/rubricexists%>
    </ion-card-content>
  </ion-card>
  <%/cmodid%>
</div>
